---
title: UCB CS61B(2021)
date: 2022-08-24
category: UCB Lecture Notes
---

[ã€åŒè¯­å­—å¹•ã€‘CS 61B æ•°æ®ç»“æ„ | æ•´åˆç‰ˆ | UCB Data Structure Spring 2021 | è½¬ç å¿…çœ‹ Java ç®—æ³• Leetcode_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1q3411V7rS?p=9&vd_source=63731e51187044a6065a97ae72adb12e)

ç›´æ¥æ‹‰å–æ¡†æ¶ä»£ç ï¼ˆç®€ä»‹é‡Œé¢æœ‰ï¼‰ï¼Œæœç´¢autograderé‚€è¯·ç ã€çŸ¥ä¹æœç´¢â€œcs61b"ã€‘ï¼ˆç½‘ç«™æ˜¯gradescopeï¼‰ä»¥ä¾¿æµ‹è¯•è‡ªå·±çš„ä»£ç ï¼Œè§†é¢‘ä¸Šè¿°é“¾æ¥ï¼Œbç«™æœ‰å¦ä¸€ä¸ªåŒ…æ‹¬discussionæ›´å…¨çš„åˆé›†è‡ªè¡Œæœç´¢

ï¼ˆè¸©å‘ï¼šä¸€å®šè¦æ‰¾åˆ°å¯¹åº”2021è¯¾ç¨‹çš„é‚€è¯·ç ï¼‰

å¬è¿‡è½¯å·¥ä¸€æ‰€ä»¥ç›´æ¥ä»project 0 åšèµ·ï¼Œå¯ä»¥çœ‹ä¸€çœ‹debugçš„labï¼Œå¯¹äºä¸å¤ªä¼šç”¨debugçš„é€‰æ‰‹æ¥è¯´éå¸¸å‹å¥½

## Project 0

æµ‹è¯•å…¨é€šè¿‡å°±æ²¡é—®é¢˜

2048ï¼ˆGUIï¼‰æ— æ³•åœ¨æœ¬åœ°è¿è¡Œï¼ˆè¸©å‘ï¼‰ï¼šWindowsç³»ç»Ÿå¿…é¡»æŠŠé»˜è®¤è¯­è¨€æ”¹ä¸ºè‹±è¯­ï¼Œéä¸“ä¸šç‰ˆwinæ”¹ä¸äº†

## Lecture 1-8

å¿«é€Ÿç•¥è¿‡ï¼Œä¸è½¯å·¥ä¸€å†…å®¹ç›¸ä¼¼

å¯ä»¥é‡ç‚¹çœ‹ä¸€ä¸‹ç”¨Javaæ„é€ é“¾è¡¨éƒ¨åˆ†

## Lecture 9

### ç»§æ‰¿å˜é‡

å­ç±»ç»§æ‰¿çˆ¶ç±»ä¸€åˆ‡å˜é‡ï¼ˆåŒ…æ‹¬ç§æœ‰å˜é‡ï¼‰

å­ç±»ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨çˆ¶ç±»ç§æœ‰ï¼Œç”¨ super(). æ–¹æ³•è°ƒç”¨

### ç»§æ‰¿æ–¹æ³•è°ƒç”¨

```java
//Dog father class
public void bark(){
    barkmany(1);
}
public void barkmany(int x){
    for(int i = 0;i < x;i++){
        System.out.println("bark");
    }
}
```

```java
//VerboseDog extends Dog (child class)
//VerboseDog does not contain bark method
@Override
public void barkmany(int x){
    System.out.println("As a dog, i say:");
    for(int i = 0;i < x;i++){
        bark();
    }
}
```

```java
VerboseDog me = new VerboseDog();
me.barkmany(3)
```

ä¸Šè¿°ä»£ç è¿è¡Œæ—¶é™·å…¥æ— ç©·å¾ªç¯ï¼Œvdçš„barkmanyè°ƒç”¨dogç±»çš„barkæ–¹æ³•ï¼Œbarkå†è°ƒç”¨vdä¸­çš„barkmanyæ–¹æ³•ã€‚

### Higher order function

```java
public interface IntUnaryFunction{
    int apply(int x);
}
```

```java
public class TenX implements IntUnaryFunction{
    public int apply(int x){
        return 10 * x;
    }
}
```

```java
public class Hdemo{
    public static doTwice(IntUnaryFunction f,int x){
        return f.apply(f.apply(x));
    }
    public static void main(String[] args){
        IntUnaryFunction tenX = new Tenx();
        System.out.println(doTwice(tenX,2);  //200
    }
}
```

### Lab 4 git merge

solving conflicts : do it manually 

git exercise A & B éƒ½åšä¸äº†ï¼ŒæŠŠskeletonç›´æ¥æ‹‰åˆ°è‡ªå·±çš„ä»“åº“é‡Œäº†

## Lecture 10

### é€šç”¨æ¯”è¾ƒ(interface)

æ„å»ºinterfaceç„¶ååœ¨è‡ªå·±çš„ç±»ä¸­æ‰§è¡Œï¼Œæ³¨æ„ç±»å‹è½¬æ¢

```java
public interface OurComparable {
   int compareTo(Object obj);
}
```

```java
public class Dog implements OurComparable {
    public int compareTo(Object obj) {
    	/** Warning, cast can cause runtime error! */
       Dog uddaDog = (Dog) obj;
       return this.size - uddaDog.size;
    }
}
```

```java
public class Maximizer {
  public static OurComparable max(OurComparable[] items) {
    ...
    int cmp = items[i];
    for(...)
    compareTo(items[maxDex]);
    ...
  }
}
```

```java
Dog[] dogs = new Dog[]{d1, d2, d3};
Dog largest = (Dog) Maximizer.max(dogs);
```

### Comparable

```java
//java standard library
public interface Comparable<T> {
     public int compareTo(T obj);
} 
```

```java
//å†…ç½®apiï¼Œåªè¦å®ç°comparable
Collection.max()
```

### Comparator

```java
public class Dog{
    private static class myComparator implements Comparator<T>{
        public int compare(T o1,T o2){
            ...
        }
    }
    public static Comparator<T> getComparator(){
        return new myComparator();
    }
}
```

## Lecture 11

### ArrayList<T>

.add .contains

### Exceptions

```java
throw new IlegalArgumentException("Error Message");
```

### Iterator

construct a class that implements iterator interface

```java
public interface Iterator<T>{
    boolean hasNext();
    T next();
}
```

```java
public class ArrayDeque<T> implements Iterable<T>{
    public Iterator<T> iterator(){}
}
//å¯ä»¥å¯¹ç±»ä¸­å…ƒç´ ä½¿ç”¨for each
```

```java
//javaè‡ªå¸¦
public class Collection<E> extends Iterable<E>{
    public Iterator<E> iterator(){}
}

public class Set<E> extends Collection<E>{
    public Iterator<E> iterator(){}
}
```

### è·å–ç±»çš„ç±»å‹

```java
object.getclass()
Array.class//å·²çŸ¥å›ºå®šç±»å‹
```

### Extra : *of* method

```java
//Type ... items : take in var argument(ä¸å®šé‡ï¼‰
public static <Type> ArraySet<Type> of(Type ... items){
    ArraySet<Type> returnSet = new ArraySet<Type>();
    for(Type x:items){
        returnSet.add(x);
    }
    return returnSet;
}
```

## Project 1

çœ‹å®Œ Lecture 10 å’Œ Lecture 11æ‰å¯ä»¥å®Œæ•´å®Œæˆ(Lecture 10: comparator/Lecture 11: iterator)

debug daily :

* deep equal : å¤šç»´æ¯”è¾ƒ
* å†™equalä¸éœ€è¦è€ƒè™‘é¡ºåºï¼Ÿï¼Œåªéœ€è¦è€ƒè™‘æ˜¯å¦åŒ…å«
* iterator æŒ‰ç…§è¯¾ä¸Šæ–¹æ³•å†™æ„é€ ç§æœ‰ç±»ï¼Œä½†æ˜¯gradescopeä¼šæŠ¥api check errorï¼Œæ²¡æœ‰æ‰§è¡Œ iterable interfaceï¼Œä½†æ˜¯æ•´ä½“ç±»åˆå®ç°äº†deque interfaceï¼Œå¾…è§£å†³...
* ArrayDeque debug logï¼Œç…§ç€gradescopeä¸Šæœªé€šè¿‡çš„æµ‹è¯•è‡ªå·±å†™ä¸€äº›ç”¨ä¾‹å³å¯
* ä¸æƒ³ç‰¹æ„å»çœ‹style guideï¼Œapiå’Œstyleæ‰£åˆ†æ²¡ç®¡ï¼Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡

## Lecture 12

### simulate git commit (java)

```java
public class Commit implements Serializable {
    public String author;
    public String date;
    public String commitMessage;
    public String parentID;
   
    public Commit(String a,String d,String c,String p){
        author = a;
        date = d;
        commitMessage = c;
        parentID = p;
    }

    public static void main(String[] args){
        Commit c = new Commit("Josh","Feb","message","...");
        File f = new File("CommitExample.txt");
        Utils.writeObject(f,c);
}

```

### Lab 5

mainly discussion --skip

## Lecture 13&15

mainly about description of algorithm scales (quick skip)

## Lecture 14 

this lesson is very important in improving algorithm

è§†é¢‘çœ‹å®Œæ„Ÿè§‰ä¸å¤Ÿå†çœ‹ä¸€ä¸‹lecture guide

<u>question :</u>  weighted quick union : why tree hight is $lgN$  

*After listening to lecture 15(binary search part) we can see that tree is organized with 2 leafs for one node*

## Lab 6

### File

```java
File f = new File("path");
if(!f.exists()){
    f.createNewFile();
}
//write content to file using utils
Utils.writeContents(f, "Hello World");
```

### Directory

```java
File d = new File("dummy");
d.mkdir();
```

### Serializable

Serialization is the process of translating an object to a series of bytes that can then be stored in the file.

```java
import java.io.Serializable;
public class Model implements Serializable {
    //This interface has no methods
    Model m;
    File outFile = new File(saveFileName);
    // Serializing the Model object
    writeObject(outFile, m);

    File inFile = new File(readFileName);
    // Deserializing the Model object
    m = readObject(inFile, Model.class);
}
```

## Lecture 16

some useful data structures in Java : **List, Map, Set**

### binary search tree (BST)

order: left < node < right

*trap: deleting move children upwards to keep left < node < right*

## Lecture 17

### adding something to a tree(B-tree)

have multiple elements in one node, but set the largest num.

move the left middle up and split the most left.

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220727205811-tjsnae6.png?raw=true)

## Lecture 18

### rotate the tree item

* merge with children/parent
* move down/up

### Left-leaning Red Black Tree (LLRB or LLRBBST)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220728092659-uuvhkfu.png?raw=true)

**LLRB operations** Always insert with a red link at the correct location. Then use the following three operations to â€œfixâ€ or LLRB tree. See slides for visual

1. If there is a right leaning red link, rotate that node left.
2. If there are two consecutive left leaning links, rotate right on the top node.
3. If there is a node with two red links to children, flip all links with that node.

### Lab 7 

å¿½ç•¥äº†api checker æŠ¥é”™

### HW 2

ç›´æ¥åœ¨gradescopeä¸Šåšï¼Œæœ‰é€‰é¡¹åˆ¤åˆ†ç³»ç»Ÿï¼ˆæœªçŸ¥ï¼šsubmitä¹‹åè¿˜æ˜¯ungradedï¼Ÿï¼‰

## Lecture 19

### code word

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220729103555-osxs3tj.png?raw=true)

### hash code

```java
Math.floorMod(-1,4) //return 3
-1 % 4 == -1 //true
```

## Lecture 20

### Heap

Binary min-heap: Binary tree that is complete and obeys min-heap property.

* Min-heap: Every node is less than or equal to both of its children.
* **Complete**: Missing items only at the bottom level (if any), all nodes are as far left as possible.

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220729155133-hsw5uyv.png?raw=true)

the array for first picture will be *0ï¼Œ5ï¼Œ1ï¼Œ8ï¼Œ8ï¼Œ6ï¼Œ2*

### Add and Remove

add: è¡¥å¶å­

romove: ç§»é™¤rootï¼Œå°†æœ€ä¸‹æ–¹æœ€å³ç«¯çš„å¶å­æ”¾åˆ°rootä¸Šï¼Œå†å’Œä¸‹æ–¹èŠ‚ç‚¹é€æ¬¡äº¤æ¢åˆ°ç›¸åº”ä½ç½®

## Lecture 21&22

Lecture 21 å‡ ä¹éƒ½æ˜¯è®²ç¦»æ•£æ•°å­¦é‡Œé¢çš„æ¦‚å¿µï¼ˆä¸€éƒ¨åˆ†æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¿«é€Ÿæ è¿‡

### Graph discription

1. use matrix to represent
2. use hashset that includes every edge of the graph
3. use hashmap, each cell contains the adjacent node
   ![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220801163815-2shetph.png?raw=true)
   ![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220801163941-24yi7bj.png?raw=true)

## Project 2

è‰è‰è¯»ä¸€ä¸‹æ–‡æ¡£å¼€å¤´æ„Ÿè§‰æ˜¯ä¸€é¡¹å¤§å·¥ç¨‹ï¼Œå…³äºcommandséƒ¨åˆ†æœ‰æ¨èçœ‹çš„lectureï¼Œå…ˆæŠŠlectureçœ‹å®Œå†å†™ï¼ˆä¸€ç›´çœ‹åˆ° lecture22ï¼‰

### æ–‡ä»¶ç»“æ„(.gitlet)

* branchï¼ˆæŒ‰ç…§åå­—å­˜å‚¨æ–‡ä»¶åï¼‰

  * master
  * others
* commitï¼ˆcommitä½¿ç”¨tostring()ï¼Œsha1åå­˜å‚¨æ–‡ä»¶åï¼‰
* blobï¼ˆè§tipsï¼Œç”¨æ–‡ä»¶å+æ–‡ä»¶å†…å®¹sha1åï¼‰
* stageï¼ˆè¢«ç¼“å­˜çš„æ–‡ä»¶æ–‡ä»¶åsha1åï¼‰
* *HEAD*ï¼ˆåŒbranchï¼‰

### Tips

[CS61B Gitlet - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/496809425) ä¸Šé¢æœ‰è®¸å¤šæ³¨æ„äº‹é¡¹å¯ä¾›å‚è€ƒ

* `blob`ç”Ÿæˆ`blobId`(sha-1 id)çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡`æ–‡ä»¶å+æ–‡ä»¶å†…å®¹(å­—èŠ‚æµ)`ç”Ÿæˆã€‚è‹¥åªç”¨æ–‡ä»¶å†…å®¹ç”Ÿæˆ`blobId`ï¼Œä¸åŒåçš„ä¸¤ä¸ªæ–‡ä»¶å†…å®¹éƒ½ä¸ºç©ºæ—¶ï¼Œç”Ÿæˆçš„`blobId`æ˜¯ä¸€è‡´çš„, ä½¿ç”¨`æ–‡ä»¶å+æ–‡ä»¶å¯¹è±¡`ç”Ÿæˆçš„sha-1å“ˆå¸Œä¹Ÿæ˜¯åŒæ ·çš„ç»“æœã€‚
* åŒæ ·ä¹Ÿæ˜¯commitç”Ÿæˆsha1 idï¼ŒæŠŠcommité‡Œé¢commit message å’Œtimeè½¬æˆå­—ç¬¦ä¸²ç„¶åå†ä½¿ç”¨utils.sha1()å‡½æ•°
* `mkdir()`åªèƒ½åœ¨å­˜åœ¨çš„ç›®å½•ä¸‹å†åˆ›å»ºï¼Œè€Œ`mkdirs()`ä¼šæŠŠæ‰€æœ‰ä¸å­˜åœ¨çš„ç›®å½•å…¨éƒ¨åˆ›å»ºï¼›åˆ›å»ºç›®å½•ä¸ç”¨try catchã€‚
* äº¤checkpointæ—¶initæ€»æ˜¯è¯´sha1çš„objectä¸å¯¹ï¼ŒutilsåŒ…é‡Œé¢å°è£…çš„sha1è¦æ±‚è¾“å…¥çš„å‚æ•°å¿…é¡»æ˜¯stringæˆ–è€…byte arrayçš„æ··åˆç±»å‹ï¼Œè¯¦æƒ…å‚è€ƒ[CS61B Gitletå…¥å‘æŒ‡å— - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/533852291)è¿™ç¯‡æ–‡ç«  **ï¼ˆè¡€æ³ªæ•™è®­ï¼šä¸€å®šè¦å…ˆå¥½å¥½çœ‹utilsé‡Œé¢çš„å°è£…æ³¨é‡Šï¼ï¼ï¼ï¼‰**ğŸ˜¢
* ä»lab 6å¼€å§‹æ— è®ºåœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹æˆ–è€…testingæ–‡ä»¶å¤¹ä¸‹é¢è·‘`make check`éƒ½æ²¡æœ‰åŠæ³•è·‘é€šæµ‹è¯•ï¼Œä½†æ˜¯å®Œå…¨æŒ‰ç…§lab6é‡Œé¢é…ç½®ï¼Œåªèƒ½è‡ªå·±æ‰‹åŠ¨è¾“å‘½ä»¤æµ‹è¯•
* åˆ¤æ–­`untracked files`ä½¿ç”¨ä¹‹å‰å†™çš„`isInStage`å’Œ`isInCommit`æ¥åˆ¤æ–­ï¼Œæ—¢ä¸åœ¨ç¼“å­˜åŒºä¹Ÿæ²¡æœ‰æäº¤è¿‡çš„æ–‡ä»¶å°±æ˜¯untracked file
* `utils`é‡Œé¢å°è£…çš„`plainfilename`æ–¹æ³•ç”Ÿæˆçš„ä¸æ˜¯`java.util.ArrayList`è€Œæ˜¯`java.util.Arrays.ArrayList`ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨`remove`ï¼ˆä½¿ç”¨removeæ¥åˆ é™¤æ‰è¿™ä¸ªprojectæ–‡ä»¶å¤¹è‡ªå¸¦çš„é…ç½®æ–‡ä»¶ï¼Œå› ä¸ºè¿™äº›éƒ½åœ¨CWDä¸‹é¢ä½†æ˜¯ä¸æ˜¯untracked fileã€‚è¿™ç¯‡åšæ–‡[ removeAllå¼•å‘å¾—java.lang.UnsupportedOperationExceptionå¼‚å¸¸_IPI715718çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/IPI715718/article/details/104796887)è®²çš„å¾ˆæ¸…æ¥šï¼‰

## Lecture 23&24

lecture 23 ä¸»è¦è®²ç¦»æ•£é‡Œé¢æœ€çŸ­è·¯å¾„çš„ç®—æ³•

lecture 24 æœ‰å…³éœå¤«æ›¼ç¼–ç å’Œå‹ç¼©ç®—æ³•è¦ä»”ç»†çœ‹ä¸€çœ‹

## Lecture 25

k-d tree :  kç»´æ ‘

example ï¼š2d tree, divide tree into left and right according x, then divide up and down according to y (treat equal as right/up)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220807194410-mjg33ii.png?raw=true)
![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220807194439-rpl3ugd.png?raw=true)

## Lecture 26

tries/try : a new structure good for prefix, blue nodes mark the end of a word

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220809203008-jd3pjbj.png?raw=true)

if there is no branch in one path then can be compressed into one node

map the priority nums on it -> priority queue

## Lecture 27-28

mainly software engineering philosophyï¼ˆè½¯å·¥ä¸€å·²ç»åŒ…å«äº†ï¼‰quick skip

## Lecture 29

### Selection Sort

ã€O(n^2^ )ã€‘

Approach : find the smallest and put it to the front

**Improvement : Naive Heap Sort** ã€O(n$log$n)ã€‘

Approach : make the array into a [heap](siyuan://blocks/20220729154531-0gydttu)ï¼ˆthis one is top down, meaning the biggest at topï¼‰ï¼Œthen delete the root , make it into the end of an array.

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812214708-wxpa2rf.png?raw=true)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812214617-vergui4.png?raw=true)

Way To Make a Max Heap : sink

if there is a bigger number under a root node then sink the root down (exchange with the bigger one)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812215800-y7dgb42.png?raw=true)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812215729-4il589j.png?raw=true)

### Merge Sort

ã€O(n $log$ n)ã€‘(recursive) merge cost most O(N), split cost O(logN)

Approach : split the array into two pieces and sort them individually, then merge

### Selection Sort

ã€O(n^2^ )ã€‘

Approachï¼šfrom the start to end, move the first item into the sorted one's right place

**Improvement : Inplace-selection sort**

from left to right, just exchange the item place 

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812223018-sdhzgyn.png?raw=true)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220812223049-373qbu9.png?raw=true)

move 15 to the front, then compare 2 to 32, move front, compare, then front

## Lecture 30 quick sort

æ€æƒ³ï¼šåˆ†è€Œæ²»ä¹‹

First divide : select a pivot, move every item smaller than pivot to the left, bigger to the right

Then do it recursively

Best :ã€O($NlogN$)ã€‘Worst : ã€O(N^2^ )ã€‘

## Lecture 32

about partition in quick sort : a new method (inplace exchange)

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220818134436-w7sac2h.png?raw=true)

use partition to find the median

![](https://github.com/AliceRayLu/AliceRayLu.github.io/blob/main/source/_posts/assets/image-20220818140642-uxt3hlr.png?raw=true)

## Lecture 36

ç†è®ºåˆ†æçš„ç®—æ³•è¿è¡Œé€Ÿåº¦æ¯”è¾ƒå’Œå®é™…è¿è¡Œçš„æ¯”è¾ƒä¼šç»“æœä¸åŒ

### just in time compiler

java çš„ç¼–è¯‘å™¨ä¼šå¯¹ä»£ç è¿è¡Œè¿‡ç¨‹è¿›è¡Œä¼˜åŒ–

## Lecture 38

### prefix free code

æŒ‰ç…§æ ‘èŠ‚ç‚¹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦åä»å¤´å¼€å§‹æ–°ä¸€è½®æŸ¥æ‰¾

### shanon-fano code&huffman coding

æ ¹æ®æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ä½¿ç”¨
